"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[766],{2766:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var r,l,u,o,a,i,c,s,f=t(5893),p=t(7294);let d=(0,p.createContext)(null),m=d.Provider;function x(){let e=(0,p.useContext)(d);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var h=t(5243);function v(){return(v=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}let y=(0,p.forwardRef)(function({bounds:e,boundsOptions:n,center:t,children:r,className:l,id:u,placeholder:o,style:a,whenReady:i,zoom:c,...s},f){let[d]=(0,p.useState)({className:l,id:u,style:a}),[x,y]=(0,p.useState)(null);(0,p.useImperativeHandle)(f,()=>x?.map??null,[x]);let b=(0,p.useCallback)(r=>{if(null!==r&&null===x){let l=new h.Map(r,s);null!=t&&null!=c?l.setView(t,c):null!=e&&l.fitBounds(e,n),null!=i&&l.whenReady(i),y(Object.freeze({__version:1,map:l}))}},[]);(0,p.useEffect)(()=>()=>{x?.map.remove()},[x]);let w=x?p.createElement(m,{value:x},r):o??null;return p.createElement("div",v({},d,{ref:b}),w)});var b=t(3935);function w(e,n,t){return Object.freeze({instance:e,context:n,container:t})}function g(e,n){return null==n?function(n,t){let r=(0,p.useRef)();return r.current||(r.current=e(n,t)),r}:function(t,r){let l=(0,p.useRef)();l.current||(l.current=e(t,r));let u=(0,p.useRef)(t),{instance:o}=l.current;return(0,p.useEffect)(function(){u.current!==t&&(n(o,t,u.current),u.current=t)},[o,t,r]),l}}function C(e,n){let t=(0,p.useRef)(n);(0,p.useEffect)(function(){n!==t.current&&null!=e.attributionControl&&(null!=t.current&&e.attributionControl.removeAttribution(t.current),null!=n&&e.attributionControl.addAttribution(n)),t.current=n},[e,n])}function j(e,n){let t=(0,p.useRef)();(0,p.useEffect)(function(){return null!=n&&e.instance.on(n),t.current=n,function(){null!=t.current&&e.instance.off(t.current),t.current=null}},[e,n])}function E(e,n){let t=e.pane??n.pane;return t?{...e,pane:t}:e}function N(e,n){(0,p.useEffect)(function(){return(n.layerContainer??n.map).addLayer(e.instance),function(){n.layerContainer?.removeLayer(e.instance),n.map.removeLayer(e.instance)}},[n,e])}let R=(r=g(function({url:e,...n},t){return w(new h.TileLayer(e,E(n,t)),t)},function(e,n,t){!function(e,n,t){let{opacity:r,zIndex:l}=n;null!=r&&r!==t.opacity&&e.setOpacity(r),null!=l&&l!==t.zIndex&&e.setZIndex(l)}(e,n,t);let{url:r}=n;null!=r&&r!==t.url&&e.setUrl(r)}),l=function(e){let n=x(),t=r(E(e,n),n);return C(n.map,e.attribution),j(t.current,e.eventHandlers),N(t.current,n),t},(0,p.forwardRef)(function(e,n){let{instance:t}=l(e).current;return(0,p.useImperativeHandle)(n,()=>t),null})),k=(u=g(function({center:e,children:n,...t},r){var l;let u=new h.CircleMarker(e,t);return w(u,(l={overlayContainer:u},Object.freeze({...r,...l})))},function(e,n,t){n.center!==t.center&&e.setLatLng(n.center),null!=n.radius&&n.radius!==t.radius&&e.setRadius(n.radius)}),o=function(e){let n=x(),t=u(E(e,n),n);return j(t.current,e.eventHandlers),N(t.current,n),function(e,n){let t=(0,p.useRef)();(0,p.useEffect)(function(){if(n.pathOptions!==t.current){let r=n.pathOptions??{};e.instance.setStyle(r),t.current=r}},[e,n])}(t.current,e),t},(0,p.forwardRef)(function(e,n){let{instance:t,context:r}=o(e).current;return(0,p.useImperativeHandle)(n,()=>t),null==e.children?null:p.createElement(m,{value:r},e.children)})),O=(a=function(e,n){return w(new h.Popup(e,n.overlayContainer),n)},i=function(e,n,{position:t},r){(0,p.useEffect)(function(){let{instance:l}=e;function u(e){e.popup===l&&(l.update(),r(!0))}function o(e){e.popup===l&&r(!1)}return n.map.on({popupopen:u,popupclose:o}),null==n.overlayContainer?(null!=t&&l.setLatLng(t),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){n.map.off({popupopen:u,popupclose:o}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(l)}},[e,n,r,t])},c=g(a),s=function(e,n){let t=x(),r=c(E(e,t),t);return C(t.map,e.attribution),j(r.current,e.eventHandlers),i(r.current,t,e,n),r},(0,p.forwardRef)(function(e,n){let[t,r]=(0,p.useState)(!1),{instance:l}=s(e,r).current;(0,p.useImperativeHandle)(n,()=>l),(0,p.useEffect)(function(){t&&l.update()},[l,t,e.children]);let u=l._contentNode;return u?(0,b.createPortal)(e.children,u):null}));var T=t(6053);function L(e){let{game:n,isInTrip:t,onAddTrip:r,onRemoveTrip:l}=e;return(0,f.jsxs)("div",{className:"min-w-[200px]",children:[(0,f.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,f.jsx)("span",{className:"w-3 h-3 rounded-full inline-block",style:{background:n.color}}),(0,f.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",style:{color:n.color},children:T.k[n.sport]||n.league})]}),(0,f.jsx)("p",{className:"font-bold text-white text-sm leading-tight",children:n.away}),(0,f.jsx)("p",{className:"text-xs text-gray-400 my-0.5",children:"at"}),(0,f.jsx)("p",{className:"font-bold text-white text-sm leading-tight mb-2",children:n.home}),n.startTime&&(0,f.jsx)("p",{className:"text-xs text-gray-400 mb-1",children:n.startTime}),n.venue&&(0,f.jsx)("p",{className:"text-xs text-gray-500",children:n.venue}),(0,f.jsx)("button",{onClick:t?l:r,className:"mt-3 w-full py-1.5 rounded-lg text-xs font-semibold transition-all",style:{background:t?"#991B1B":"#F59E0B",color:t?"#FCA5A5":"#000"},children:t?"Remove from Trip":"+ Add to Trip"})]})}function I(e){let{game:n,isInTrip:t,onAddTrip:r,onRemoveTrip:l}=e,u=t?"#F59E0B":n.color;return(0,f.jsx)(k,{center:[n.lat,n.lng],radius:t?8:6,pathOptions:{color:u,fillColor:u,fillOpacity:.85,weight:t?3:1.5,opacity:1},className:t?"trip-marker":"",children:(0,f.jsx)(O,{children:(0,f.jsx)(L,{game:n,isInTrip:t,onAddTrip:()=>r(n),onRemoveTrip:()=>l(n.id)})})})}function _(e){let{games:n,tripIds:t,onAddTrip:r,onRemoveTrip:l}=e;return(0,f.jsxs)(y,{center:[39.8,-98.5],zoom:4,className:"w-full h-full",zoomControl:!1,children:[(0,f.jsx)(R,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OSM</a>',url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"}),n.map(e=>(0,f.jsx)(I,{game:e,isInTrip:t.has(e.id),onAddTrip:r,onRemoveTrip:l},e.id))]})}}}]);